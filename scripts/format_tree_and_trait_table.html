<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>format_tree_and_trait_table.py – Formatting script for filtering and reformatting trees and trait tables. &mdash; PICRUSt 1.1.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PICRUSt 1.1.3 documentation" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">PICRUSt 1.1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/scripts/format_tree_and_trait_table.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="format-tree-and-trait-table"></span><div class="section" id="format-tree-and-trait-table-py-formatting-script-for-filtering-and-reformatting-trees-and-trait-tables">
<span id="index-0"></span><h1><em>format_tree_and_trait_table.py</em> &#8211; Formatting script for filtering and reformatting trees and trait tables.<a class="headerlink" href="#format-tree-and-trait-table-py-formatting-script-for-filtering-and-reformatting-trees-and-trait-tables" title="Permalink to this headline">¶</a></h1>
<p><strong>Description:</strong></p>
<dl class="docutils">
<dt>Reformats scripts and trait tables.  Optional fixes include:</dt>
<dd>&#8211; Add short (epsilon) branch lengths in place of 0 length branches
&#8211; Filter out taxa that don&#8217;t match between tree and trait table
&#8211; Output tree in NEXUS format
&#8211; Ensure tree is bifurcating (remove polytomies using very short branches)
&#8211; Convert floating point trait values to integers
&#8211; Add a short branch length to the root branch (required by BayesTraits)
&#8211; Remove internal node names (required by BayesTraits)</dd>
</dl>
<p><strong>Usage:</strong> <code class="file docutils literal"><span class="pre">format_tree_and_trait_table.py</span> <span class="pre">[options]</span></code></p>
<p><strong>Input Arguments:</strong></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>[REQUIRED]</strong></p>
<dl class="docutils">
<dt>-t, <cite>-</cite>-input_tree</dt>
<dd>The input tree (Newick format)</dd>
<dt>-i, <cite>-</cite>-input_trait_table</dt>
<dd>The input trait table (QIIME OTU table format)</dd>
</dl>
<p><strong>[OPTIONAL]</strong></p>
<dl class="last docutils">
<dt>-m, <cite>-</cite>-tree_to_trait_mapping</dt>
<dd>A two-column, tab-delimited text file mapping identifiers in the tree(column 1) to identifiers in the trait table (column 2). If supplied, the identifiers in the trait table will be converted to match the identifiers in the tree. (This mapping does not need to be supplied if the tree and trait table already use a common set of identifiers.) [default: None]</dd>
<dt>-o, <cite>-</cite>-output_dir</dt>
<dd>The output directory [default: ./formatted/]</dd>
<dt><cite>-</cite>-input_table_delimiter</dt>
<dd>The character delimiting fields in the input trait table. Valid choices are:tab,space,comma [default: tab]</dd>
<dt><cite>-</cite>-output_table_delimiter</dt>
<dd>The character delimiting fields in the output trait table. Valid choices are:tab,space,comma [default: tab]</dd>
<dt><cite>-</cite>-suppress_bifurcating</dt>
<dd>If set, don&#8217;t ensure that tree is fully bifurcating. [default: False]</dd>
<dt>-n, <cite>-</cite>-convert_to_nexus</dt>
<dd>Convert tree to NEXUS format, including a translate block mapping tip names to numbers. [default: False]</dd>
<dt>-c, <cite>-</cite>-convert_values_to_ints</dt>
<dd>Convert the values for each character state to integers. [default: False]</dd>
<dt><cite>-</cite>-no_minimum_branch_length</dt>
<dd>If set, don&#8217;t ensure all branches have at least a small but non-zero branchlength. [default: False]</dd>
<dt><cite>-</cite>-supress_tree_filter</dt>
<dd>If set, don&#8217;t filter out tree tips that aren&#8217;t listed in the trait table [default: False]</dd>
<dt><cite>-</cite>-supress_table_filter</dt>
<dd>If set, don&#8217;t filter out trait table entries that aren&#8217;t listed in the tree [default: False]</dd>
<dt>-r, <cite>-</cite>-add_branch_length_to_root</dt>
<dd>Add a short branch to the root node (this is required by some phylogeny programs).  The length of the branch is determined by the min_branch_length option  [default: False]</dd>
<dt>-l, <cite>-</cite>-limit_tree_to_otus_fp</dt>
<dd>Will prune the reference tree to contain only those tips that are within the given OTU table</dd>
</dl>
</div>
<p><strong>Output:</strong></p>
<p>Outputs a reformatted tree and trait table.</p>
<p><strong>Example 1:</strong></p>
<p>Reformat a tree and trait table with default options:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>format_tree_and_trait_table.py -i traits.tab -t tree.nwk -o ./format_output/
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">PICRUSt 1.1.3 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2011-2013, The PICRUSt Project.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>